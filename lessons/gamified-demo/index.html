<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cyberdelics 101: The Timeline Quest</title>

    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&family=Space+Mono:wght@400;700&display=swap"
        rel="stylesheet">

    <!-- Core Styles -->
    <link rel="stylesheet" href="../../core/styles.css">

    <!-- Method Styles -->
    <link rel="stylesheet" href="../../methods/gamified-exploration/gamified-exploration.css">

    <style>
        body {
            background: #0f172a;
            color: #e2e8f0;
            overflow: hidden;
            /* Prevent scrolling, game handles it */
            margin: 0;
            padding: 20px;
        }

        .header-overlay {
            position: absolute;
            top: 20px;
            left: 20px;
            z-index: 100;
            pointer-events: none;
            /* Let clicks pass through to game */
        }
    </style>
</head>

<body>

    <div class="header-overlay">
        <h1>The Cyberdelic Timeline</h1>
        <p>Zoom into the eras to recover the lost history.</p>
    </div>

    <!-- Game Container -->
    <div id="game-root"></div>

    <!-- Scripts -->
    <script src="../../core/course-core.js"></script>
    <script src="../../core/method-base.js"></script>
    <script src="../../methods/gamified-exploration/gamified-exploration.js"></script>
    <script src="../../methods/gamified-exploration/games/timeline-zoom.js"></script>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // Need to set lessonId for CourseCore
            if (typeof CourseCore !== 'undefined') {
                CourseCore.init('gamified-demo', { debug: true });
            }

            // Define Data for the Timeline
            const historyData = {
                eras: [
                    {
                        id: 'era_visionaries',
                        label: '1980s-90s',
                        yearStart: 1980,
                        yearEnd: 1999,
                        items: [
                            {
                                id: 'item_glove',
                                year: 1987,
                                title: 'VPL Data Glove',
                                icon: 'ðŸ§¤',
                                description: 'Jaron Lanier founded VPL Research.'
                            },
                            {
                                id: 'item_mondo',
                                year: 1989,
                                title: 'Mondo 2000',
                                icon: 'ðŸ“°',
                                description: 'The cyberpunk lifestyle magazine.'
                            },
                            {
                                id: 'item_vb',
                                year: 1995,
                                title: 'Virtual Boy',
                                icon: 'ðŸ”´',
                                description: 'Nintendos ambitious failure.'
                            }
                        ]
                    },
                    {
                        id: 'era_winter',
                        label: '2000s',
                        yearStart: 2000,
                        yearEnd: 2009,
                        items: [
                            {
                                id: 'item_labs',
                                year: 2004,
                                title: 'Academic Labs',
                                icon: 'ðŸ§ª',
                                description: 'Research went underground.'
                            }
                        ]
                    },
                    {
                        id: 'era_renaissance',
                        label: '2010s-Present',
                        yearStart: 2010,
                        yearEnd: 2025,
                        items: [
                            {
                                id: 'item_oculus',
                                year: 2012,
                                title: 'Oculus Rift',
                                icon: 'ðŸ¥½',
                                description: 'The Kickstarter that changed everything.'
                            },
                            {
                                id: 'item_isness',
                                year: 2020,
                                title: 'Isness-D',
                                icon: 'âœ¨',
                                description: 'Multi-person pneumatic VR.'
                            }
                        ]
                    }
                ]
            };

            // Init Game Engine
            // FIX: Use new Factory Pattern
            const container = document.getElementById('game-root');
            const gameInstance = window.GamifiedExplorationFactory();

            gameInstance.init(container, {
                module: TimelineZoom,
                data: historyData,
                debug: true
            });
        });
    </script>
</body>

</html>